<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>📚 Themen Navigator</title>
  <style>
    :root{
      --bg:#0f172a;           /* slate-900 */
      --panel:#111827;        /* gray-900 */
      --muted:#334155;        /* slate-600 */
      --card:#0b1324;         /* dark card */
      --text:#e5e7eb;         /* gray-200 */
      --accent:#22d3ee;       /* cyan-400 */
      --accent-2:#a78bfa;     /* violet-400 */
      --ok:#34d399;           /* emerald-400 */
      --warn:#f59e0b;         /* amber-400 */
      --danger:#fb7185;       /* rose-400 */
      --chip:#1f2937;         /* gray-800 */
      --border:#1f2937;       /* gray-800 */
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;background:linear-gradient(120deg, var(--bg), #0a1224 60%);
      color:var(--text);font-family:system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    header{
      position:sticky;top:0;z-index:20;
      background:rgba(15, 23, 42, 0.9);backdrop-filter:blur(8px);
      border-bottom:1px solid var(--border);
    }
    .container{max-width:1200px;margin:0 auto;padding:14px 18px}
    .brand{display:flex;align-items:center;gap:10px}
    .brand h1{margin:0;font-size:20px;font-weight:700}
    .brand .chip{font-size:12px;padding:.25rem .5rem;border:1px solid var(--border);border-radius:999px;background:var(--chip)}
    nav.tabs{display:flex;flex-wrap:wrap;gap:8px;margin-top:12px}
    nav.tabs button{
      background:var(--panel);color:var(--text);border:1px solid var(--border);
      border-radius:999px;padding:8px 14px;font-weight:600;cursor:pointer;transition:all .2s;
    }
    nav.tabs button.active{background:var(--accent);color:#0b1324;border-color:transparent}
    nav.tabs button:hover{transform:translateY(-1px)}

    .controls{display:flex;flex-wrap:wrap;gap:8px;margin:14px 0}
    .controls input[type="search"]{
      flex:1;min-width:260px;background:#0b1223;color:var(--text);
      border:1px solid var(--border);border-radius:12px;padding:12px 14px;
    }
    .filters{display:flex;flex-wrap:wrap;gap:8px}
    .filters .filter{
      background:#0b1223;border:1px solid var(--border);color:var(--text);
      border-radius:10px;padding:8px 12px;cursor:pointer;user-select:none;
    }
    .filters .filter.active{background:var(--accent-2);color:#0b1324;border-color:transparent}

    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:14px}
    @media (max-width:1100px){.grid{grid-template-columns:repeat(8,1fr)}}
    @media (max-width:720px){.grid{grid-template-columns:repeat(4,1fr)}}

    .card{
      grid-column:span 6;background:linear-gradient(180deg, var(--card), #0a1223);
      border:1px solid var(--border);border-radius:16px;padding:16px;position:relative;overflow:hidden;
    }
    @media (max-width:720px){.card{grid-column:span 4}}
    .card h3{margin:0 0 4px;font-size:18px}
    .meta{display:flex;align-items:center;gap:10px;color:#9ca3af;font-size:12px}
    .chips{display:flex;flex-wrap:wrap;gap:8px;margin:10px 0}
    .chip-badge{
      font-size:11px;border-radius:999px;padding:.35rem .6rem;border:1px solid var(--border);
      background:var(--chip);color:#cbd5e1
    }
    .chip-badge.accent{background:var(--accent);color:#082c2f;border-color:transparent}
    .chip-badge.warn{background:var(--warn);color:#111827;border-color:transparent}
    .chip-badge.ok{background:var(--ok);color:#052e25;border-color:transparent}

    .tags{color:#cbd5e1;font-size:13px;line-height:1.7;border-top:1px dashed var(--border);padding-top:10px}
    .note{margin-top:8px;font-size:13px;color:#e9eaf0}
    .highlight{display:inline-flex;align-items:center;gap:6px;margin-inline-end:8px}

    footer{margin:40px 0 60px;color:#9aa2b2;font-size:12px;text-align:center}
    
    .card h3,
.card .tags,
.card .note {
  direction: rtl;
  text-align: left;
}

  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="brand">
        <h1>📚 Themen Navigator – تنظيم المواضيع</h1>
        <span class="chip">By • OuissDev</span>
      </div>
      <nav class="tabs" id="groupTabs">
        <!-- buttons injected by JS -->
      </nav>
      <div class="controls">
        <input id="search" type="search" placeholder="🔎 بحث بالكلمات… (العنوان، الصفحة، الكلمات المفتاحية)" />
        <div class="filters" id="filters">
          <span class="filter" data-key="budget">💰 الميزانية</span>
          <span class="filter" data-key="ziel">🎯 الهدف</span>
          <span class="filter" data-key="tasks">🧩 توزيع المهام</span>
          <span class="filter" data-key="all" title="مسح الفلاتر">مسح الفلاتر</span>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="grid" id="cards">
      <!-- cards injected by JS -->
    </section>
    <footer>صُنِع للمراجعة والترتيب – يمكن البحث والتصفية حسب الميزانية/الهدف/توزيع المهام. ✅</footer>
  </main>

  <script>
    // ===== بيانات المجموعات والمواضيع =====
    const groups = [
      { id: 1, name: "المجموعة 1: تنظيم حدث أو مناسبة" },
      { id: 2, name: "المجموعة 2: المساعدة الشخصية" },
      { id: 3, name: "المجموعة 3: التخطيط لبرنامج/إقامة" },
      { id: 4, name: "المجموعة 4: نشاط داخل الكورس" },
      { id: 5, name: "المجموعة 5: تزيين المكان" },
      { id: 6, name: "المجموعة 6: تقديم عرض/وصف" },
    ];

    // helper to build note text
    function buildNotes(t){
      const notes=[];
      if(t.ziel_note) notes.push(`🎯 الهدف: ${t.ziel_note}`);
      if(t.budget_note) notes.push(`💰 الميزانية: ${t.budget_note}`);
      if(t.tasks_note) notes.push(`🧩 توزيع المهام: ${t.tasks_note}`);
      return notes.join("<br>");
    }

    // المواضيع 1 → 37
    const topics = [
      // Group 1: 1-26
      {id:1, group:1, title:"تنظيم مهرجان رياضي بين الثقافات", seite:"1", points:"wann, Persone, materiel, Dauer, Verpflegung أو Essen Getränke, Technik, MUSIK, Aktivitäten, wo stattfinden", ziel:true, tasks:true, ziel_note:"تعزيز التفاهم بين الثقافات.", tasks_note:"التسجيل، الفرق، التحكيم، اللوجستيك."},
      {id:2, group:1, title:"تنظيم معرض للكتاب", seite:"2", points:"wann, Persone, materiel (Flyer, Poster), Dauer, Technik (Mikrofon), Aktivitäten (Lesungen, Autoren‑Gespräche), wo stattfinden", tasks:true, tasks_note:"التواصل مع المؤلفين، الدعاية، تنظيم القاعة."},
      {id:3, group:1, title:"تنظيم حفلة مفاجئة للأستاذة", seite:"3", points:"wann, Persone, materiel (Geschenk, Deko), Dauer, Verpflegung أو Essen Getränke, MUSIK, Aktivitäten (Reden, Spiele), wo stattfinden", budget:true, tasks:true, budget_note:"تجميع الفلوس للكادو، الزينة والماكلة.", tasks_note:"الكادو، الأكل، الموسيقى، التنسيق."},
      {id:4, group:1, title:"تقديم كتاب في القسم", seite:"4", points:"wann, Persone (wer macht was), materiel (Handzettel, Buch), Dauer, Technik (Laptop für Präsentation), Aktivitäten (Vorlesen, Diskussion)"},
      {id:5, group:1, title:"التحضير لمقابلة مع مغني مشهور", seite:"5", points:"wann, Persone (wer fragt was), materiel (Fragenkatalog), Dauer, Technik (Aufnahmegerät, Mikrofon), wo stattfinden", budget:true, budget_note:"تكاليف تنقل أو هدية رمزية للمُستضاف."},
      {id:6, group:1, title:"تنظيم يوم إعلامي حول الصحة", seite:"6", points:"wann, Persone, materiel (Flyer, Plakate), Dauer, Verpflegung, Technik, Aktivitäten (Vorträge, Ernährungsplan), wo stattfinden", ziel:true, ziel_note:"توعية الناس بأهمية الصحة."},
      {id:7, group:1, title:"تنظيم برنامج لزيارة المدينة للطلاب", seite:"7", points:"wann, Persone, Dauer, Verpflegung, Aktivitäten (Führung, Besichtigung), wo Treffen"},
      {id:8, group:1, title:"جمع التبرعات لأطفال الشوارع", seite:"8", points:"wann, Persone, materiel (Spendenbox, Flyer), Dauer, Aktivitäten (مثلاً بيع الكعك), wo stattfinden", budget:true, ziel:true, budget_note:"تحديد هدف المبلغ وجمعه بطرق فعّالة.", ziel_note:"مساعدة الأطفال المحتاجين."},
      {id:9, group:1, title:"تنظيم زيارة لمستشفى الأطفال", seite:"11", points:"wann, Persone, materiel (Geschenke, Spiele), Dauer, Aktivitäten (Spielen, Vorlesen), wo Treffen", ziel:true, ziel_note:"إدخال الفرحة على قلوب الأطفال المرضى."},
      {id:10, group:1, title:"تنظيم حدث للتبرع بالدم", seite:"19", points:"wann, Persone, materiel (Informationsmaterial, Poster), Dauer, Verpflegung (für die Spender), wo stattfinden", ziel:true, ziel_note:"إنقاذ الأرواح وزيادة الوعي بالتبرع."},
      {id:11, group:1, title:"يوم إعلامي حول المدرسة/التكوين/المهنة", seite:"13", points:"wann, Persone (خبراء)، materiel, Dauer, Verpflegung, Technik, wo stattfinden"},
      {id:12, group:1, title:"مهرجان في الشارع مع الجيران", seite:"14", points:"wann, Persone, Dauer, Verpflegung أو Essen Getränke, MUSIK, Aktivitäten (ألعاب للأطفال), wo stattfinden", tasks:true, tasks_note:"التواصل مع الجيران، الموسيقى، الألعاب/السلامة."},
      {id:13, group:1, title:"حدث رياضي للأطفال", seite:"15", points:"wann, Persone, materiel (Bälle, Medaillen), Dauer, Verpflegung, Aktivitäten (Wettbewerbe), wo stattfinden"},
      {id:14, group:1, title:"ندوة حول البرمجيات (Software‑Seminar)", seite:"18", points:"wann, Persone, materiel, Dauer, Technik (Laptop, Beamer), wo stattfinden"},
      {id:15, group:1, title:"يوم إعلامي حول الإعلام الجديد", seite:"20", points:"wann, Persone, materiel (Poster, Flyer), Dauer, Technik, Aktivitäten (Vorträge, Präsentationen), wo stattfinden"},
      {id:16, group:1, title:"معرض للألعاب (Spielemesse)", seite:"22", points:"wann, Persone, materiel (Poster), Dauer, Technik, Aktivitäten, wo stattfinden"},
      {id:17, group:1, title:"رحلة لبلد ناطق بالألمانية", seite:"23", points:"wann, Persone, Dauer, Aktivitäten (Reiseplan), wo stattfinden (Reiseziel)", tasks:true, tasks_note:"حجز التذاكر، إيجاد السكن، إعداد البرنامج."},
      {id:18, group:1, title:"زيارة لمتحف", seite:"26", points:"wann, Persone, Dauer, Aktivitäten (Führung), wo Treffen"},
      {id:19, group:1, title:"مفاجأة زفاف لصديق", seite:"27", points:"wann, Persone, materiel (Geschenk), Dauer, Verpflegung, MUSIK, Aktivitäten", budget:true, budget_note:"تجميع فلوس الهدية وتجهيزات المناسبة."},
      {id:20, group:1, title:"مسرحية لجمع التبرعات", seite:"28", points:"wann, Persone, materiel (Bühnenbild), Dauer, Technik, wo stattfinden", budget:true, budget_note:"تكاليف ديكور وملابس + هدف التبرعات."},
      {id:21, group:1, title:"حفلة عيد ميلاد لزميل في الكورس", seite:"32", points:"wann, Persone, materiel (Geschenk), Dauer, Verpflegung, MUSIK, Aktivitäten", budget:true, budget_note:"تجميع مساهمات للكادو والحفلة."},
      {id:22, group:1, title:"عرض: ضرورة تعلم اللغات الأجنبية", seite:"33", points:"wann, Persone, materiel (Stichpunkte), Dauer, Technik", ziel:true, ziel_note:"تشجيع الطلاب على تعلم لغات جديدة."},
      {id:23, group:1, title:"سوق للسلع المستعملة (Flohmarkt) في الحي", seite:"34", points:"wann, Persone, Dauer, Verpflegung, wo stattfinden", budget:true, budget_note:"قد تكون هناك تكاليف لتأجير المكان/الطاولات."},
      {id:24, group:1, title:"الذهاب للسينما في آخر يوم من الكورس", seite:"35", points:"wann, Persone, Aktivitäten (أي فيلم؟), wo Treffen", budget:true, budget_note:"الاتفاق على ثمن التذكرة."},
      {id:25, group:1, title:"جمع تبرعات كتب للمكتبة", seite:"36", points:"wann, Persone, materiel (Flyer), Dauer, wo stattfinden"},
      {id:26, group:1, title:"رحلة لمدة 3 أيام إلى البحر", seite:"37", points:"wann, Persone, Dauer, Verpflegung, Aktivitäten, wo stattfinden (Unterkunft)", budget:true, tasks:true, budget_note:"نقل + سكن + أكل لازمة جداً.", tasks_note:"الحجوزات، الإقامة، برنامج الأيام."},

      // Group 2: 27-31
      {id:27, group:2, title:"مساعدة طفل صديق لتحسين نقاطه", seite:"9", points:"wann (Nachhilfeplan), Persone (wer hilft bei was?), Dauer, Aktivitäten (Lernmethoden, Pausen)"},
      {id:28, group:2, title:"المساعدة في الانتقال إلى مدينة أخرى (Umzug)", seite:"16 & 17", points:"wann, Persone (wer macht was?), Dauer, Verpflegung (für die Helfer), Aktivitäten (Packen, Transport)", tasks:true, tasks_note:"تجميع الصناديق، النقل، ترتيب المنزل الجديد."},
      {id:29, group:2, title:"مساعدة جارة في المستشفى (رعاية أطفالها)", seite:"24", points:"wann (Zeitplan), Persone (Aufgabenteilung), Dauer, Verpflegung (Kochen), Aktivitäten (Schule, Hausaufgaben, Spielen)", tasks:true, tasks_note:"طبخ، واجبات، لعب وتنسيق المواعيد."},
      {id:30, group:2, title:"مساعدة صديق جاء من أمريكا", seite:"25", points:"wann, Persone, Dauer, Aktivitäten (Stadtführung, Ausflüge), wo Treffen"},
      {id:31, group:2, title:"مساعدة صديق كسر ساقه في المستشفى", seite:"29", points:"wann (Besuchszeiten), Persone, Dauer, Aktivitäten (Bücher/Filme mitbringen, reden)", budget:true, budget_note:"هدية بسيطة/مواد ترفيهية حسب الإمكان."},

      // Group 3: 32-33
      {id:32, group:3, title:"تنظيم إقامة لطلاب أجانب", seite:"10", points:"wann, Persone, Dauer, Verpflegung, Aktivitäten (Programm vorschlagen), wo stattfinden (Unterkunft)", tasks:true, tasks_note:"السكن، البرنامج اليومي، التنقل."},
      {id:33, group:3, title:"تخطيط برنامج لرحلة دراسية", seite:"12", points:"wann, Persone, Dauer, Verpflegung, Aktivitäten (Besuch von Schulen, Unis), wo stattfinden", ziel:true, ziel_note:"زيارة مؤسسات تعليمية وتحقيق أهداف تعلم واضحة."},

      // Group 4: 34-35
      {id:34, group:4, title:"دعوة الأستاذة لدرس 'الألمانية كلغة أجنبية'", seite:"21", points:"wann, Persone, Dauer, Aktivitäten (Vorschläge machen)"},
      {id:35, group:4, title:"حفلة طبخ (Kochnachmittag) في الكورس", seite:"30", points:"wann, Persone, Dauer, Verpflegung أو Essen Getränke (wer bringt was mit?), wo stattfinden"},

      // Group 5: 36
      {id:36, group:5, title:"جعل قاعة الدرس تبدو أجمل", seite:"31", points:"wann, Persone (wer hilft?), materiel (Pflanzen, Bilder), Aktivitäten (Vorschläge machen)", budget:true, budget_note:"تحديد ميزانية للنباتات والديكور."},

      // Group 6: 37
      {id:37, group:6, title:"وصف بلد معين في القسم", seite:"38", points:"Aktivitäten (ما الذي نصفه: مدن، أكل، موسيقى)، materiel (Bilder, Musikbeispiele), Technik (für Präsentation)"}
    ];

    // ===== واجهة المستخدم =====
    const cardsEl = document.getElementById('cards');
    const tabsEl = document.getElementById('groupTabs');
    const searchEl = document.getElementById('search');
    const filtersEl = document.getElementById('filters');

    let activeGroup = 1;
    let activeFilters = { budget:false, ziel:false, tasks:false };

    // Build tabs
    groups.forEach(g=>{
      const b = document.createElement('button');
      b.textContent = g.name; b.dataset.id = g.id;
      b.className = 'tab';
      if(g.id===activeGroup) b.classList.add('active');
      b.addEventListener('click', ()=>{ activeGroup=g.id; refreshTabs(); render(); });
      tabsEl.appendChild(b);
    });
    function refreshTabs(){
      tabsEl.querySelectorAll('button').forEach(btn=>{
        btn.classList.toggle('active', Number(btn.dataset.id)===activeGroup);
      });
    }

    // Filters
    filtersEl.addEventListener('click', (e)=>{
      const key = e.target?.dataset?.key; if(!key) return;
      if(key==='all'){ activeFilters={budget:false, ziel:false, tasks:false};
        filtersEl.querySelectorAll('.filter').forEach(f=>f.classList.remove('active')); return render(); }
      activeFilters[key] = !activeFilters[key];
      e.target.classList.toggle('active', activeFilters[key]);
      render();
    });

    // Search
    searchEl.addEventListener('input', ()=> render());

    function matchFilters(t){
      const keys = Object.keys(activeFilters).filter(k=>activeFilters[k]);
      if(keys.length===0) return true;
      return keys.every(k=> t[k] === true );
    }

    function highlight(text, query){
      if(!query) return text;
      const q = query.trim().replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
      if(!q) return text;
      return text.replace(new RegExp(q, 'ig'), (m)=>`<mark style="background:var(--accent);color:#082c2f;border-radius:4px;padding:0 .2em">${m}</mark>`);
    }

    function render(){
      const q = searchEl.value.trim();
      const list = topics.filter(t => t.group===activeGroup)
        .filter(t => matchFilters(t))
        .filter(t => {
          if(!q) return true;
          const hay = `${t.title} seite ${t.seite} ${t.points}`.toLowerCase();
          return hay.includes(q.toLowerCase());
        });

      cardsEl.innerHTML = '';
      list.forEach(t=>{
        const card = document.createElement('article');
        card.className = 'card';
        card.innerHTML = `
          <h3>${highlight(`${t.id}. ${t.title}`, q)}</h3>
          <div class="meta"><span>📄 Seite ${t.seite}</span></div>
          <div class="chips">
            ${t.budget?'<span class="chip-badge warn">💰 الميزانية</span>':''}
            ${t.ziel?'<span class="chip-badge ok">🎯 الهدف</span>':''}
            ${t.tasks?'<span class="chip-badge accent">🧩 توزيع المهام</span>':''}
          </div>
          <div class="tags"> ${highlight(t.points, q)}</div>
          ${ (t.ziel_note||t.budget_note||t.tasks_note) ? `<p class="note">${buildNotes(t)}</p>` : ''}
        `;
        cardsEl.appendChild(card);
      });

      // لو ماكان حتى عنصر بعد التصفية
      if(list.length===0){
        const empty = document.createElement('div');
        empty.className='card';
        empty.innerHTML = '<h3>لا نتائج مطابقة 🔍</h3><p class="note">جرّب كلمات أقل، أو امسح الفلاتر.</p>';
        cardsEl.appendChild(empty);
      }
    }

    // أول رسم
    render();
  </script>
</body>
</html>
